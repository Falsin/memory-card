(this["webpackJsonpmemory-card"]=this["webpackJsonpmemory-card"]||[]).push([[0],{10:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var r=c(2),n=c(1),a=c.n(n),s=c(4),o=c.n(s),i=(c(10),c.p+"static/media/logo.8c2c47f6.png"),u=c(0),j=function(){return Object(u.jsxs)("header",{children:[Object(u.jsx)("img",{src:i,alt:"A site logo"}),Object(u.jsx)("h1",{children:"Memory Card"})]})},d=c(5);var b=function(e){var t=Object(n.useState)({arrayOfId:[],currentScore:0,bestScore:0}),c=Object(r.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){null!==e.imageId&&(a.arrayOfId.includes(e.imageId)?s({arrayOfId:[],currentScore:0,bestScore:a.currentScore>a.bestScore?a.currentScore:a.bestScore}):s({arrayOfId:a.arrayOfId.concat(e.imageId),currentScore:++a.currentScore,bestScore:a.bestScore}))})),Object(u.jsx)("div",{id:"scoreBoard",children:Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{id:"currentScore",children:["Score: ",Object(u.jsx)("span",{children:a.currentScore})]}),Object(u.jsxs)("li",{id:"bestScore",children:["Best score: ",Object(u.jsx)("span",{children:a.bestScore})]})]})})};var l=function(e){var t=Object(n.useState)(o(e.imgArr)),c=Object(r.a)(t,2),a=c[0],s=c[1];function o(e){for(var t=[],c=e.length+.5,r=0;r<e.length;r++){var n=Math.round(.5+Math.random()*(c-.5))-1;t.push(e[n])}return t}return Object(n.useEffect)((function(){return e.changeUploadStatus(!0)}),[]),Object(u.jsxs)("div",{id:"cardsCollection",children:[a.map((function(t,c){return Object(u.jsx)("div",{className:"visible",onClick:function(){e.setIdImage(t.id),s(o(e.imgArr))},style:{backgroundImage:"url(".concat(t.img,")")}},c)})),function(){for(var e=[],t=0;t<15;t++)e.push(Object(u.jsx)("div",{},t+40));return e}().map((function(e){return e}))]})},f=function(e){var t=Object(n.useState)([]),c=Object(r.a)(t,2),a=c[0],s=c[1],o=Object(n.useState)(null),i=Object(r.a)(o,2),j=i[0],f=i[1];return Object(n.useEffect)((function(){if(!a.length){Object(d.a)("563492ad6f917000010000016beb93e33efd4bf5829a8d135c840222").photos.search({query:"Nature",per_page:30}).then((function(e){var t=e.photos.map((function(e){return fetch(e.src.medium,{mode:"cors"}).then((function(e){return e.blob()})).then((function(e){return URL.createObjectURL(e)})).then((function(t){return e.img=t}))}));Promise.all(t).then((function(){return s(e.photos)}))}))}})),Object(n.useEffect)((function(){null!==j&&f(null)}),[j]),Object(u.jsxs)("section",{children:[Object(u.jsx)(b,{imageId:j}),a.length?Object(u.jsx)(l,{imgArr:a,setIdImage:f,changeUploadStatus:e.changeUploadStatus}):null]})};var h=function(e){return Object(u.jsx)("footer",{children:Object(u.jsx)("a",{href:"https://github.com/Falsin",children:"Made by Falsin"})})};var O=function(e){return Object(u.jsx)("div",{id:"loadBlock",children:Object(u.jsx)("h1",{children:"Loading..."})})};function m(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],a=t[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j,{}),Object(u.jsx)(f,{changeUploadStatus:a}),Object(u.jsx)(h,{}),c?null:Object(u.jsx)(O,{})]})}o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.8f65d1f9.chunk.js.map